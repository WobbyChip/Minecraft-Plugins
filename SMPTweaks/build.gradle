plugins {
    id "java"
}

sourceCompatibility = 17
targetCompatibility = 17
group project.property("group")
defaultTasks "build"

compileJava {
    options.encoding = "UTF-8"
    options.compilerArgs += ["-parameters"]
    options.fork = true
    options.forkOptions.executable = "javac"
}

repositories {
    mavenCentral()
    maven { url = "https://repo.papermc.io/repository/maven-public/" }
    maven { url = "https://hub.spigotmc.org/nexus/content/repositories/snapshots/" }
    maven { url "https://repo.codemc.io/repository/nms/" }
    maven { url "https://repo.dmulloy2.net/repository/public/" }
    maven { url "https://jitpack.io" }
}

dependencies {
    compileOnly "io.papermc.paper:paper-api:${project.minecraft_version}-R0.1-SNAPSHOT"
    compileOnly "org.spigotmc:spigot:${project.minecraft_version}-R0.1-SNAPSHOT"
    compileOnly "org.spigotmc:spigot:${project.minecraft_version}-R0.1-SNAPSHOT:remapped-mojang"
    compileOnly "com.comphenix.protocol:ProtocolLib:5.1.0"
}

jar {
    destinationDir = file(projectDir)
    archiveFileName = "${project.plugin_name}.jar"
}